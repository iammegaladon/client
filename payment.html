<!DOCTYPE html>
<html lang="en">
    <html data-theme="light">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team Meg Corporation Client Portal</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500&display=swap" rel="stylesheet">
    <!-- Google Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Tailwind CSS -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <!-- DaisyUI CSS -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@2.9.3/dist/full.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.7.3/dist/full.min.css" rel="stylesheet" type="text/css" />

    <style>
        /* Hide the menu initially on mobile */
        .hidden-mobile {
            display: none;
        }

        /* Show the menu on desktop */
        @media (min-width: 768px) {
            .hidden-desktop {
                display: none;
            }

            .show-desktop {
                display: block;
            }
        }

        /* Show the menu on mobile when active */
        .show-mobile {
            display: block;
        }

        .hide-mobile {
            display: none;
        }

        /* Smooth animation for mobile menu */
        @keyframes slideInRight {
            from {
                transform: translateX(-100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .slide-in-right {
            animation: slideInRight 0.5s ease-out;
        }
    </style>
</head>

<body class="font-sans" style="font-family: 'Poppins', sans-serif;">
    <div class="container-fluid">
        <div class="row">
        

            <!-- Title -->
            <div class="col-12 py-4 text-center">
                <h1 class="text-2xl font-bold text-gray-800">Team Meg Corporation Client Portal</h1>
            </div>
            <!-- Toggle button for mobile -->
            <div class="col-12 d-md-none relative">
                <label class="btn btn-circle swap swap-rotate" for="toggleMenu">
                    <!-- this hidden checkbox controls the state -->
                    <input type="checkbox" id="toggleMenu" />
                    <!-- hamburger icon -->
                    <svg class="swap-off fill-current" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 512 512"><path d="M64,384H448V341.33H64Zm0-106.67H448V234.67H64ZM64,128v42.67H448V128Z"/></svg>
                    <!-- close icon -->
                    <svg class="swap-on fill-current" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 512 512"><polygon points="400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49"/></svg>
                </label>
                <!-- Indicator -->
               
            </div>
            
            
            
            <!-- Vertical Navmenu -->
           <!-- Vertical Navmenu -->
           <nav id="navMenu" class="col-md-3 bg-gray-200 py-4 hidden-mobile show-desktop">
            <ul class="list-group">
                <li class="list-group-item">
                    <a href="dashboard.html" class="flex items-center">
                        <span class="material-icons mr-2">dashboard</span>Dashboard
                    </a>
                </li>
                <li class="list-group-item">
                    <a href="settings.html" class="flex items-center">
                        <span class="material-icons mr-2">attribution</span> Attributes
                    </a>
                </li>
                <li class="list-group-item">
                    <a href="login.html" class="flex items-center">
                        <span class="material-icons mr-2">exit_to_app</span> Log Out
                    </a>
                </li>
                <li class="list-group-item">
                    <a href="report_fraud.html" class="flex items-center">
                        <span class="material-icons mr-2">phishing</span> Report Fraud
                    </a>
                </li>
                <li class="list-group-item">
                    <a href="request_refund.html" class="flex items-center">
                        <span class="material-icons mr-2">toll</span> Request Refund
                    </a>
                </li>
                <li class="list-group-item mt-auto">
                    <a href="payment.html" class="flex items-center">
                        <span class="material-icons mr-2">payment</span> Payments
                        <span class="ml-auto text-red-500 blink-dot">&#9679;</span>
                    </a>
                </li>
                <li class="list-group-item mt-auto">
                    <a href="customer_support.html" class="flex items-center">
                        <span class="material-icons mr-2">contact_support</span> Contact Support
                    </a>
                </li>
            </ul>
        </nav>

            <!-- Main Content -->
          <!-- Main Content -->
          <main class="col-md-9 py-4">
            <div class="container">
                <!-- Timeline Section -->
                <ul class="steps steps-vertical">
                    <li class="step step-primary">Payment I($110)</li>
                    <li  class="step step-primary">Received</li>
                    <li class="step step-primary">Payment II($300)</li>
                    <li class="step">Received</li>
                  </ul>
                <!-- Payment Information Section -->
                <div class="row mt-4">
                    <div class="col-md-12">
                        <h3 class="text-lg font-semibold mb-3">Payment Information</h3>
                        <ul class="list-group">
                            <li class="list-group-item">
                                <strong>Payment Method:</strong> Credit/Debit
                            </li>
                            <li class="list-group-item">
                                <strong>Payment Vendor</strong> Sadapay UK
                            </li>
                            
                            <li class="list-group-item">
                                <strong>Received By:</strong> HAMZA ***78
                            </li>
                         
                          
                            <li class="list-group-item" style="color: blue;">
                                <a href="proof_fedex.pdf"><strong><style></style>View the Recipt</strong></a>
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- Additional Payment Information -->
                <div class="row mt-4">
                    <div class="col-md-12">
                        <h3 class="text-lg font-semibold mb-3">Additional Payment Information</h3>
                        <ul class="list-group">
                            <li class="list-group-item">
                                <strong>Payment Verification:</strong> <span style="color:red;">Un-Cleared</span>
                            </li>
                            <li class="list-group-item">
                                <strong>Amount Received:</strong> $110
                            </li>
                        </ul>
                    </div>
                </div>
          <div class="row mt-4">
                    <div class="col-md-12">
                        <h3 class="text-2xl font-bold mb-4 text-gray-800">Choose Payment Actions</h3>
                        <ul class="list-group">
                            <li class="list-group-item bg-blue-100 rounded-md shadow-md">
                                <strong onclick="my_modal_1.showModal()" class="text-blue-700" style="cursor: pointer;">Initiate a Payment</strong>
                            </li>
                            <li class="list-group-item bg-green-100 rounded-md shadow-md">
                                <strong class="text-green-700">Monitor Payment Status</strong>
                            </li>
                        </ul>
                    </div>
                </div>
                
                
        </main>
        
        
            

    <!-- DaisyUI JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/daisyui@2.9.3/dist/full.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <script>
        // Toggle the menu visibility on mobile
        const toggleMenu = document.getElementById('toggleMenu');
        const navMenu = document.getElementById('navMenu');

        toggleMenu.addEventListener('click', () => {
            navMenu.classList.toggle('hidden-mobile');
            navMenu.classList.toggle('show-mobile');
            navMenu.classList.toggle('slide-in-right');
        });
    </script>
</body>
<script>
    window.history.pushState({}, '', '/client?321%db?status=true');
</script>
<script>
document.addEventListener("DOMContentLoaded", function() {
    // Create and append loading spinner to the middle of the page
    const loadingSpinner = document.createElement('span');
    loadingSpinner.className = 'loading loading-spinner loading-lg';
    loadingSpinner.style.position = 'fixed';
    loadingSpinner.style.top = '50%';
    loadingSpinner.style.left = '50%';
    loadingSpinner.style.transform = 'translate(-50%, -50%)';
    document.body.appendChild(loadingSpinner);

    // Hide the main content initially
    const mainContent = document.querySelector('main');
    mainContent.style.display = 'none';

    // Simulate delay for 3 seconds
    setTimeout(function() {
        // Hide loading spinner
        loadingSpinner.style.display = 'none';

        // Show main content
        mainContent.style.display = 'block';
    }, 3000);
});


</script>

<script>
    window.history.pushState({}, '', '/payment?information=true');
</script>
</html>


<!-- Open the modal using ID.showModal() method -->
<dialog id="my_modal_1" class="modal">
    <div class="modal-box">
      <h3 class="font-bold text-lg">Initiate Payment</h3>
      <input type="text" id="auth_id" placeholder="Payment Authorization ID" class="input input-bordered w-full p-2 mt-2" style="box-sizing: border-box;" maxlength="43">
      <p id="error-message" style="color: red; display: none;">Invalid Authorization ID</p>
      <div class="modal-action">
        <form method="dialog">
          <button type="button" class="btn" onclick="closeModal('my_modal_1')">Close</button>
          <button type="button" class="btn" onclick="fetchDetails()">Fetch Details</button>
        </form>
      </div>
    </div>
  </dialog>

  <dialog id="my_modal_2" class="modal">
    <div class="modal-box">
      <h3 class="font-bold text-lg">Payment Details</h3>
      <div class="payment-details">
        <p class="consumer-name"><strong>Consumer Name:</strong> Bob</p>
        <p class="payment-for"><strong>Payment For:</strong> IMVU PVS Payment II</p>
        <p class="payment-method"><strong>Payment Method Allowed:</strong> Credit/Debit</p>
        <p class="amount"><strong>Amount:</strong> $300 <span class="note">(amount shown without taxes)</span></p>
        <p class="security-note" style="color: red; font-weight: bold;">Only 3D Security Cards are Accepted</p>
      </div>
      <div class="modal-action">
        <form method="dialog">
          <button type="button" class="btn" onclick="closeModal('my_modal_2')">Close</button>
          <button onclick="my_modal_3.showModal()" class="btn">Make Payment</button>
        </form>
      </div>
    </div>
  </dialog>
  
  <style>
    .modal-box {
      padding: 20px;
      border-radius: 8px;
      background-color: #f9f9f9;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
  
    .payment-details p {
      margin: 8px 0;
      font-size: 16px;
    }
  
    .payment-details strong {
      color: #333;
    }
  
    .payment-details .note {
      font-size: 14px;
      color: #888;
    }
  
    .payment-details .security-note {
      color: red;
      font-weight: bold;
    }
  </style>
<script>
    function fetchDetails() {
      const authIdInput = document.getElementById('auth_id');
      const errorMessage = document.getElementById('error-message');
      const authId = authIdInput.value;

      if (authId === 'PAY-AuthID-9F7B2C8KLM35XH72PQRD6VWY4ZTJ1S0A') {
        errorMessage.style.display = 'none';
        const fetchButton = document.querySelector('#my_modal_1 .modal-action .btn:nth-child(2)');
        fetchButton.innerHTML = 'Fetching Details';
        fetchButton.disabled = true;
        setTimeout(() => {
          fetchButton.innerHTML = 'Fetch Details';
          fetchButton.disabled = false;
          closeModal('my_modal_1');
          openModal('my_modal_2');
        }, 4000);
      } else {
        errorMessage.style.display = 'block';
      }
    }

    function openModal(modalId) {
      const modal = document.getElementById(modalId);
      if (modal) {
        modal.showModal();
      }
    }

    function closeModal(modalId) {
      const modal = document.getElementById(modalId);
      if (modal) {
        modal.close();
      }
    }


  </script>



<form id="emailForm">
  <dialog  id="my_modal_3" class="modal">
    <div class="modal-box">
      <h3 class="font-bold text-lg">Email Address</h3>
      <input
        type="email"
        id="email"
        placeholder="Legal Email Address"
        name="email"
        class="input input-bordered w-full p-2 mt-2"
        style="box-sizing: border-box;"
        maxlength="43"
      />
      <div class="modal-action">  
        <button type="button" class="btn" onclick="closeModal('my_modal_3')">
          Close
        </button>
        <button type="submit" class="btn" id="paymentBtn" onclick="change()">
          Go to Payment Page
        </button>
      </div>
    </div>
  </dialog>
</form>



<script>
  // Initialize Firebase
  const firebaseConfig = {
        apiKey: "AIzaSyBU0LStfJ1OJRZZmUzIrjw9cLSeNTFw0MU",
       authDomain: "asfaf-a7cfe.firebaseapp.com",
       databaseURL: "https://asfaf-a7cfe-default-rtdb.firebaseio.com",
       projectId: "asfaf-a7cfe",
       storageBucket: "asfaf-a7cfe.appspot.com",
       messagingSenderId: "64928322953",
       appId: "1:64928322953:web:dc9b3383a1feb309387d58",
       measurementId: "G-TM7HMP57ZK"
    };
    firebase.initializeApp(firebaseConfig);

    // Get a reference to the database service
    const database = firebase.database();

    // Handle form submission
    document.getElementById('emailForm').addEventListener('submit', function(event) {
      event.preventDefault(); // Prevent default form submission
      
      // Get the email input value
      const email = document.getElementById('email').value;

      // Store email in Firebase Database under 'emails' node
      database.ref('emails').push().set({
        email: email
      }).then(function() {
        window.location.href = "perform_payment.html";
        // Clear the form after submission
        document.getElementById('emailForm').reset();
      }).catch(function(error) {
        console.error('Error storing email: ', error);
        alert('Failed to store email. Please try again later.');
      });
    });

  function change(){
   document.getElementById('paymentBtn').innerText="Redirecting";
   document.getElementById('paymentBtn').style.color = '#c9cbce';


  }
           
</script>
